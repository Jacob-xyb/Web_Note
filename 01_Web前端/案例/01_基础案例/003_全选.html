<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        html * {
            margin: 0;
            padding: 0;
        }

        .box {
            width: 100px;
            padding: 20px;
            border: 1px solid pink;
            margin: 30px auto;
            border-radius: 5px;
        }

        hr {
            margin: 10px 0;
        }
    </style>
</head>

<body>
    <div class="box">
        <span>全选 </span><input type="checkbox" name="" id=""><br>
        <hr>
        <input type="checkbox" name="" id=""><span> 选项一 </span><br>
        <input type="checkbox" name="" id=""><span> 选项二 </span><br>
        <input type="checkbox" name="" id=""><span> 选项三 </span><br>
    </div>
    <script>
        let arr_cbxs = document.querySelectorAll('input');
        arr_cbxs[0].onclick = function () {
            let status = arr_cbxs[0].checked;
            for (let i = 1; i < arr_cbxs.length; i++) {
                arr_cbxs[i].checked = status;
            }
        }
        for (let i = 1; i < arr_cbxs.length; i++) {
            arr_cbxs[i].onclick = function () {
                if (!this.checked) {
                    arr_cbxs[0].checked = false;
                }
                else {
                    let status = true;
                    for (let i = 1; i < arr_cbxs.length; i++) {
                        if (!arr_cbxs[i].checked) {
                            status = false;
                            break;
                        }
                    }
                    arr_cbxs[0].checked = status;
                }
            }

        }
    </script>
</body>

</html>